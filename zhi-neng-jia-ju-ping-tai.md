# 开场视频

[http://www.miaopai.com/show/nIcKBRkOJ7q9n1yXBPHTyVm~9HMhe3wCjOyl2w\_\_.htm](http://www.miaopai.com/show/nIcKBRkOJ7q9n1yXBPHTyVm~9HMhe3wCjOyl2w__.htm)

[https://v.qq.com/x/page/a053956hmow.html](https://v.qq.com/x/page/a053956hmow.html)

---

# What

## 什么是智能家居

智能家居（英文：smart home, home automation）是以住宅为平台，利用综合布线技术、**网络通信技术**、 **安全防范技术**、**自动控制技术**、音视频技术将家居生活有关的设施集成，构建高效的住宅设施与家庭日程事务的管理系统，提升家居安全性、便利性、舒适性、艺术性，并实现环保节能的居住环境。

智能家居是在互联网影响之下物联化的体现，**物联网技术是智能家居的基础**。

## 什么是物联网

### 定义

物联网，英文名称是：“Internet of things（IoT）”。顾名思义，物联网就是物物相连的互联网。这有两层意思：

* 其一，物联网的核心和基础仍然是互联网，是在互联网基础上的延伸和扩展的网络。

  互联网的终端是计算机（PC、服务器），而物联网的终端是**嵌入式计算机系统及其配套的传感器**。

* 其二，其用户端延伸和扩展到了任何物品与物品之间，进行信息交换和通信，也就是物物相息。

### 与互联网关系

**物联网的核心和基础仍然是互联网**，但互联网需要一系列技术升级才能满足物联网的需求，例如IPv6、Web\_3.0。

---

# Why

发展前景：智能家居作为物联网细分领域最具潜力市场之一，仅国内市场规模就能高达万亿，来自奥维咨询预测，2020年中国智能家居的整体产值将突破万亿元。

技术支撑：**物联网、大数据、云计算、人工智能**。

---

# Who

## 国外

### 谷歌

以人工智能为驱动 让AI无处不在构建智慧生态

* 以语音助手Google Assistan为核心、以Google Home智能音箱为中枢，透过人工智能构建生态，欲让AI无处不在，并以开放形式来形成更庞大的生态体系。
* 智能音箱作为争夺家庭入口的中枢产品，谷歌出货量高达600万台，是全球第二大智能音箱厂商，仅次于亚马逊。

### 亚马逊

智能音箱时代引领者 成行业风向标

* 搭载了Alexa的智能音箱Echo在美国地区备受追捧，销量更是惊人，累计销量超过千万
* 由此也引起连锁效应，更是带动众多巨头纷纷推出自家的智能音箱产品，其中谷歌和亚马逊的争夺尤为激烈。

### 苹果

智能家居生态最完善 欲让Siri无处不在

* 在物联网时代，苹果品牌在全球最具号召力，且搭建的生态体系是当今最完善，集合iOS＋CarPlay＋Siri＋HomeKit＋Apple TV＋即将上市的HomePod等完全的产品线，再结全球数十亿的iPhone、iPad等智能终端用户，并以HomeKit生态平台入侵我们的生活。

## 国内

### 阿里巴巴

继电商后，有望再造物联网帝国，要连接100亿智能设备

[https://iot.aliyun.com/](https://iot.aliyun.com/)

* 作为阿里AI Labs首款落地消费型产品，**在双十一单日销量就突破百万级成绩**，也是国内第一款出货量达到百万级的智能音箱产品，无疑成为国内智能音箱市场的一剂猛药。
* 在万物互联趋势下，物联网成为阿里未来战略之一，并推出了全新的物联网平台Link、智能语音AliGenie，在对万亿规模的物联网市场，阿里并不掩饰野心，其**目标是五年汇聚100万的开发者，借此沉淀100万物联网应用解决方案，并连接100亿物联网设备**。

### 小米

庞大生态链， 小成智能家居引领者

[http://home.mi.com/index.html](http://home.mi.com/index.html)

* 2016年正式向市场推出“米家”品牌，围绕“米家”品牌为核心，打造了一个至今最具规模的智能家居庞大生态环境，在这个生态体系下培育、孵化众多创新企业，仅**去年销售额就高达150亿人民币，今年有望突破200亿**。
* 小米还推出了**物联网开发者计划，对外开放小米IoT平台**，并联合百度共建软硬一体的“IoT＋AI”生态体系，重构和升级整个产业，在智能家居产业链，同时国内的小米更是广交朋友，并分享给整个产业链，共同打造下一个智能化的物联网场景，让人们智慧生活成为可能。

### 华为

智能硬件厂家的设备和服务聚合

[http://developer.huawei.com/ict/cn/site-iot](http://developer.huawei.com/ict/cn/site-iot)

* 向伙伴提供**HiLink SDK、LiteOS、物联网芯片、安全、和人工智能**等核心技术能力
* 《打开全连接时代的三扇门》演讲，阐释了华为打开三扇门、通往全连接时代的三把钥匙，其中谈到第二把钥匙指出智能家居是物联网的重要领域之一

---

# How

## 物联网架构

![](/assets/iot_structure.png)

### 感知层

实现对物理世界的智能感知识别、信息采集处理和自动控制，并通过通信模块将物理实体连接到网络层和应用层。

### 网络层

主要实现信息的传递、路由和控制，包括延伸网、接入网和核心网，网络层可依托公众电信网和互联网，也可以依托行业专用通信网络。

### 应用层

包括应用基础设施/中间件和各种物联网应用。应用基础设施/中间件为物联网应用提供信息处理、计算等通用基础服务设施、能力及资源调用接口，以此为基础实现物联网在众多领域的各种应用。

## 智能家居平台实践

### 系统架构

![](/assets/my_smart_home_system_structure.png)

### ZigBee无线局域网

家庭局域网是实现家庭内各种设备互联的基础，本文采用ZigBee技术来搭建家庭无线局域网，家庭局域网主要与家庭网关产生直接数据交互，基于串口通信协议。

#### 为什么选择ZigBee技术组网？

* 有线技术的缺点在于：成本高、布线繁杂、升级换代限制大、维护困难。也正是因为如此，有线技术无法大规模推广，无线技术逐渐占据智能家居市场，成为主流。![](/assets/wlan_tech_compare.png)
* 基于功耗、网络容量、安全性等方面考虑

#### 控制器

* 负责启动整个网络，它也是网络的第一个设备。协调器选择一个信道和一个网络ID\(也称之为PAN ID，即Personal Area Network ID\)，随后启动整个网络。

#### 路由器

* 负责找寻、建立以及修复网络报文的路由信息，允许其他设备加入网络，并负责转发网络报文。

#### 终端

* 具有加入、退出网络的功能，没有特定的维持网络结构的责任。通常，终端设备对存储空间\(特别是RAM的需要\)比较小。

### 家庭网关

家庭网关的主要功能是作为通信的桥梁，连接云数据中心与家庭内部网络。

#### 数据上行

* ZigBee 终端采集家庭信息， 无线传输至 ZigBee 协调器， 协调器基于串口将数据发送至家庭网关， 家庭网关基于 WebSocket 将数据上传至云数据中心。

#### 数据下行

* 云数据中心基于 WebSocket将数据 推送至家庭网关，家庭网关接收数据， 使用串口发送数据至 ZigBee 协调器， 协调器按约定的规则解析数据， 并命令发送至 ZigBee 终端， 实现对智能设备的控制。

### 云数据中心

云数据中心负责数据存储和处理，一切数据的都必须流经云数据中心，是系统的核心。其功能可概括为3点：

提供数据查询/设备控制/信息管理接口、接收来自家庭网关的数据（上行）、发送用户的控制命令至家庭网关（下行）。

#### 数据交互

![](/assets/cloud_data_center_data_interchange_.png)

#### 控制外设流程

![](/assets/control_op_flow.png)

### 系统演示

* 房间1设备状态

![](/assets/smart_home_web_control_1.png)

* 房间2设备状态

![](/assets/smart_home_web_control_2.png)

* 打开"房间1-灯设备1"

![](/assets/smart_home_web_control_3.png)

* 关闭"房间1-灯设备1"

![](/assets/smart_home_web_control_4.png)

* 系统实物图

![](/assets/smart_home_structure_entity.jpg)

---

# 备注

* 智能家居通过物联网技术将家中的各种设备（如音视频设备、照明系统、窗帘控制、空调控制、安防系统、数字影院系统、影音服务器、影柜系统、网络家电等）连接到一起，提供家电控制、照明控制、电话远程控制、室内外遥控、防盗报警、环境监测、暖通控制、红外转发以及可编程定时控制等多种功能和手段。

* 参考链接：[http://www.sohu.com/a/210673645\_220528](http://www.sohu.com/a/210673645_220528)、[http://www.sohu.com/a/215401222\_220528](http://www.sohu.com/a/215401222_220528)

* 物联网其实是互联网的一个延伸，互联网的终端是计算机（PC、服务器），我们运行的所有程序，无非都是计算机和网络中的数据处理和数据传输，除了计算机外，没有涉及任何其他的终端（硬件）。物联网的本质还是互联网，只不过终端不再是计算机（PC、服务器），而是嵌入式计算机系统及其配套的传感器。

* 物联网（英语：Internet of Things，缩写IoT）是互联网、传统电信网等信息承载体，让所有能行使独立功能的普通物体实现互联互通的网络。

* 随着物联网、大数据、云计算、人工智能等技术的进步，未来，高度人工智能的智能家居将是家居的理想状态，智能家居想像空间极大。



